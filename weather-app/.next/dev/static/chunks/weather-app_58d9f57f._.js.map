{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/emilyadams/projects/Weather/weather-app/lib/supabase.ts"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\n\nexport const supabase = createClient(\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n);\n"],"names":[],"mappings":";;;;AAGE;AAHF;;AAEO,MAAM,WAAW,IAAA,mNAAY"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///Users/emilyadams/projects/Weather/weather-app/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { supabase } from \"@/lib/supabase\";\n\ntype Favorite = {\n  id: string;\n  user_id: string;\n  label: string | null;\n  city: string;\n  country: string | null;\n  created_at: string;\n};\n\nexport default function Home() {\n  const [email, setEmail] = useState<string | null>(null);\n  const [favorites, setFavorites] = useState<Favorite[]>([]);\n  const [errorMsg, setErrorMsg] = useState<string>(\"\");\n\n  async function loadFavorites() {\n    setErrorMsg(\"\");\n    const { data, error } = await supabase\n      .from(\"favorite_locations\")\n      .select(\"id,user_id,label,city,country,created_at\")\n      .order(\"created_at\", { ascending: false });\n\n    if (error) {\n      //console.error(\"load error:\", error);\n      setErrorMsg(error.message);\n      return;\n    }\n    setFavorites(data ?? []);\n  }\n\n  async function saveBoston() {\n    setErrorMsg(\"\");\n\n    const { data: userRes, error: userErr } = await supabase.auth.getUser();\n    if (userErr) {\n      console.error(\"getUser error:\", userErr);\n      setErrorMsg(userErr.message);\n      return;\n    }\n    const user = userRes.user;\n    if (!user) {\n      setErrorMsg(\"Not logged in\");\n      return;\n    }\n\n    const { data, error } = await supabase\n      .from(\"favorite_locations\")\n      .insert({\n        user_id: user.id,\n        label: \"Home\",\n        city: \"Boston\",\n        country: \"US\",\n      })\n      .select()\n      .single();\n\n    if (error) {\n      console.error(\"insert error:\", error);\n      setErrorMsg(error.message);\n      return;\n    }\n\n    console.log(\"inserted row:\", data);\n    await loadFavorites();\n  }\n\n  useEffect(() => {\n    supabase.auth.getUser().then(({ data }) => {\n      setEmail(data.user?.email ?? null);\n    });\n    loadFavorites();\n  }, []);\n\n  return (\n    <main style={{ padding: 24 }}>\n      <div>Logged in as: {email ?? \"NOT LOGGED IN\"}</div>\n\n      <div style={{ marginTop: 12, display: \"flex\", gap: 8 }}>\n        <button onClick={saveBoston}>Save Boston</button>\n        <button onClick={loadFavorites}>Reload</button>\n      </div>\n\n      {errorMsg && <p style={{ marginTop: 12 }}>Error: {errorMsg}</p>}\n\n      <h2 style={{ marginTop: 20 }}>Favorites</h2>\n      <ul>\n        {favorites.map((f) => (\n          <li key={f.id}>\n            {f.label ? `${f.label}: ` : \"\"}\n            {f.city}\n            {f.country ? `, ${f.country}` : \"\"} â€” {f.user_id}\n          </li>\n        ))}\n      </ul>\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAce,SAAS;;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,2LAAQ,EAAgB;IAClD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,2LAAQ,EAAa,EAAE;IACzD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,2LAAQ,EAAS;IAEjD,eAAe;QACb,YAAY;QACZ,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,gJAAQ,CACnC,IAAI,CAAC,sBACL,MAAM,CAAC,4CACP,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM;QAE1C,IAAI,OAAO;YACT,sCAAsC;YACtC,YAAY,MAAM,OAAO;YACzB;QACF;QACA,aAAa,QAAQ,EAAE;IACzB;IAEA,eAAe;QACb,YAAY;QAEZ,MAAM,EAAE,MAAM,OAAO,EAAE,OAAO,OAAO,EAAE,GAAG,MAAM,gJAAQ,CAAC,IAAI,CAAC,OAAO;QACrE,IAAI,SAAS;YACX,QAAQ,KAAK,CAAC,kBAAkB;YAChC,YAAY,QAAQ,OAAO;YAC3B;QACF;QACA,MAAM,OAAO,QAAQ,IAAI;QACzB,IAAI,CAAC,MAAM;YACT,YAAY;YACZ;QACF;QAEA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,gJAAQ,CACnC,IAAI,CAAC,sBACL,MAAM,CAAC;YACN,SAAS,KAAK,EAAE;YAChB,OAAO;YACP,MAAM;YACN,SAAS;QACX,GACC,MAAM,GACN,MAAM;QAET,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,iBAAiB;YAC/B,YAAY,MAAM,OAAO;YACzB;QACF;QAEA,QAAQ,GAAG,CAAC,iBAAiB;QAC7B,MAAM;IACR;IAEA,IAAA,4LAAS;0BAAC;YACR,gJAAQ,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI;kCAAC,CAAC,EAAE,IAAI,EAAE;oBACpC,SAAS,KAAK,IAAI,EAAE,SAAS;gBAC/B;;YACA;QACF;yBAAG,EAAE;IAEL,qBACE,+MAAC;QAAK,OAAO;YAAE,SAAS;QAAG;;0BACzB,+MAAC;;oBAAI;oBAAe,SAAS;;;;;;;0BAE7B,+MAAC;gBAAI,OAAO;oBAAE,WAAW;oBAAI,SAAS;oBAAQ,KAAK;gBAAE;;kCACnD,+MAAC;wBAAO,SAAS;kCAAY;;;;;;kCAC7B,+MAAC;wBAAO,SAAS;kCAAe;;;;;;;;;;;;YAGjC,0BAAY,+MAAC;gBAAE,OAAO;oBAAE,WAAW;gBAAG;;oBAAG;oBAAQ;;;;;;;0BAElD,+MAAC;gBAAG,OAAO;oBAAE,WAAW;gBAAG;0BAAG;;;;;;0BAC9B,+MAAC;0BACE,UAAU,GAAG,CAAC,CAAC,kBACd,+MAAC;;4BACE,EAAE,KAAK,GAAG,GAAG,EAAE,KAAK,CAAC,EAAE,CAAC,GAAG;4BAC3B,EAAE,IAAI;4BACN,EAAE,OAAO,GAAG,CAAC,EAAE,EAAE,EAAE,OAAO,EAAE,GAAG;4BAAG;4BAAI,EAAE,OAAO;;uBAHzC,EAAE,EAAE;;;;;;;;;;;;;;;;AASvB;GAtFwB;KAAA"}}]
}